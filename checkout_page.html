<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Web Shop</title>
    <meta name="description" content="Source code generated using layoutit.com">
    <meta name="author" content="LayoutIt!">
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">
    <link href="css/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" href="css/skins.css">
</head>

<body>
    <div class="container-fluid">
        <div class="header-container">
		            <header id="header">
                <div class="top_header_nav">
                    <div class="container">
                        <div class="row">
                            <div class="nav">
                                <div class="left_top_header col-md-5"></div>
                                <div class="center_top_header col-md-2">
                                    <h5>Welcome</h5>
                                </div>
                                <ul id="header_links" class="col-md-5  text-right">
                                    <li>
                                        <i class="fa fa-user"></i>
                                        <a href="#">Account</a>
                                    </li>
                                    <li>
                                        <i class="fa fa-heart"></i>
                                        <a href="#">My Wishlist</a>
                                    </li>
                                    <li>
                                        <i class="fa fa-cart-arrow-down"></i>
                                        <a href="#">My Cart</a>
                                    </li>
                                    <li>
                                        <i class="fa fa-facebook-official"></i>
                                        <a href="#">Login</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- End top_header_nav -->
                <div class="center_header_top">
                    <div class="container">
                        <div class="row">
                            <div class="col-md-3">
                                <div class="field-search">
                                    <input type="text" class="form-control" name="search_query" value="Search..." id="search_query_top">
                                    <button class="btn button-search">
                                        <i class="fa fa-search"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="col-md-9 logo_img">
                                <div id="header_logo">
                                    <ul class="list-logo">
                                        <li> <img src="images/icons/delivery.png" alt=""></li>
                                        <li><img src="images/icons/return.png" alt=""></li>
                                        <li><img src="images/icons/contact.png" alt=""></li>
                                        <li><img src="images/icons/checkout.png" alt=""></li>
                                    </ul>
                                </div>
                            </div>
                            <!-- <div class="col-md-3">
                                <div class="shopping_cart">
                                    <a href="#" class="title_cart">
                                        <span><i class="fa fa-cart-arrow-down"></i> (Empty)</span>
                                    </a>
                                    <div class="cart_block">
                                        <div class="cart_prices">
                                            <p class="number_products">No products</p>
                                            <div class="cart_prices_line">
                                                <span class="name">Shipping</span>
                                                <span class="prices">To be determined </span>
                                            </div>
                                            <div class="cart_prices_line last_line">
                                                <span class="name">Totals</span>
                                                <span class="prices">$0.00</span>
                                            </div>
                                        </div>
                                        <div class="cart_buttons">
                                            <a href="#">
                                          Checkout <i class="fa fa-angle-right"></i>
                                      </a>
                                        </div>
                                    </div>
                                </div>
                            </div> -->
                        </div>
                    </div>
                </div>
                <!-- End tag center_header_top -->
                <div id="header_menu">
                    <div class="total_menu">
                        <div class="shadow-top-menu"></div>
                        <div class="container">
                            <div class="row">
                                <nav>
                                    <ul>
                                        <li class="active">
                                            <a href="home.html"><i class="fa fa-home fa-2x"></i></a>
                                        </li>
                                        <li>
                                            <a href="#">Phone<i class="fa fa-angle-down"></i></a>
                                            <div class="sub_menu sub_menu_one">
                                                <div class="category">
                                                    <div class="title">
                                                        <a href="#">Manufacturer</a>
                                                    </div>
                                                    <div class="category-content">
                                                        <ul>
                                                            <li><a href=""><i class="fa fa-angle-right"></i> Nokia</a></li>
                                                            <li><a href=""><i class="fa fa-angle-right"></i> Samsung</a></li>
                                                            <li><a href=""><i class="fa fa-angle-right"></i> LG</a></li>
                                                            <li><a href=""><i class="fa fa-angle-right"></i> Lenovo</a></li>
                                                            <li><a href=""><i class="fa fa-angle-right"></i> Apple</a></li>
                                                            <li><a href=""><i class="fa fa-angle-right"></i> Sony</a></li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="category">
                                                    <div class="title">
                                                        <a href="#"></a>
                                                    </div>
                                                    <div class="category-content">
                                                        <ul>
                                                            <li><a href=""><i class="fa fa-angle-right"></i> Xiaomi</a></li>
                                                            <li><a href=""><i class="fa fa-angle-right"></i> Wiko</a></li>
                                                            <li><a href=""><i class="fa fa-angle-right"></i> Pantech</a></li>
                                                            <li><a href=""><i class="fa fa-angle-right"></i> Oppo</a></li>
                                                            <li><a href=""><i class="fa fa-angle-right"></i> Asus</a></li>
                                                            <li><a href=""><i class="fa fa-angle-right"></i> Motorola</a></li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="category">
                                                    <div class="title">
                                                        <a href="#">Price</a>
                                                    </div>
                                                    <div class="category-content">
                                                        <ul>
                                                            <li><a href=""><i class="fa fa-angle-right"></i> Under $100</a></li>
                                                            <li><a href=""><i class="fa fa-angle-right"></i> From $100 - $300</a></li>
                                                            <li><a href=""><i class="fa fa-angle-right"></i> From $300 - $1000</a></li>
                                                            <li><a href=""><i class="fa fa-angle-right"></i> Over $1000</a></li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="category">
                                                    <div class="title">
                                                        <a href="#">OS</a>
                                                    </div>
                                                    <div class="category-content">
                                                        <ul>
                                                            <li><a href=""><i class="fa fa-angle-right"></i> iOS</a></li>
                                                            <li><a href=""><i class="fa fa-angle-right"></i> Windows</a></li>
                                                            <li><a href=""><i class="fa fa-angle-right"></i> Android</a></li>
                                                            <li><a href=""><i class="fa fa-angle-right"></i> Others</a></li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="line"></div>
                                            </div>
                                        </li>
                                        <li>
                                            <a href="#">Tablet<i class="fa fa-angle-down"></i></a>
                                            <div class="sub_menu sub_menu_two">
                                                <div class="category">
                                                    <div class="title">
                                                        <a href="#">Manufacturer</a>
                                                    </div>
                                                    <div class="category-content">
                                                        <ul>
                                                            <li><a href=""><i class="fa fa-angle-right"></i> Nokia</a></li>
                                                            <li><a href=""><i class="fa fa-angle-right"></i> Samsung</a></li>
                                                            <li><a href=""><i class="fa fa-angle-right"></i> LG</a></li>
                                                            <li><a href=""><i class="fa fa-angle-right"></i> Lenovo</a></li>
                                                            <li><a href=""><i class="fa fa-angle-right"></i> Apple</a></li>
                                                            <li><a href=""><i class="fa fa-angle-right"></i> Sony</a></li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="category">
                                                    <div class="title">
                                                        <a href="#">Price</a>
                                                    </div>
                                                    <div class="category-content">
                                                        <ul>
                                                            <li><a href=""><i class="fa fa-angle-right"></i> Under $100</a></li>
                                                            <li><a href=""><i class="fa fa-angle-right"></i> From $100 - $300</a></li>
                                                            <li><a href=""><i class="fa fa-angle-right"></i> From $300 - $1000</a></li>
                                                            <li><a href=""><i class="fa fa-angle-right"></i> Over $1000</a></li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="category">
                                                    <div class="title">
                                                        <a href="#">OS</a>
                                                    </div>
                                                    <div class="category-content">
                                                        <ul>
                                                            <li><a href=""><i class="fa fa-angle-right"></i> iOS</a></li>
                                                            <li><a href=""><i class="fa fa-angle-right"></i> Windows</a></li>
                                                            <li><a href=""><i class="fa fa-angle-right"></i> Android</a></li>
                                                            <li><a href=""><i class="fa fa-angle-right"></i> Others</a></li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="line"></div>
                                            </div>
                                        </li>
                                        <li>
                                            <a href="#">Laptop<i class="fa fa-angle-down"></i></a>
                                            <div class="sub_menu sub_menu_three">
                                                <div class="category">
                                                    <div class="title">
                                                        <a href="#">Manufacturer</a>
                                                    </div>
                                                    <div class="category-content">
                                                        <ul>
                                                            <li><a href=""><i class="fa fa-angle-right"></i> Nokia</a></li>
                                                            <li><a href=""><i class="fa fa-angle-right"></i> Samsung</a></li>
                                                            <li><a href=""><i class="fa fa-angle-right"></i> LG</a></li>
                                                            <li><a href=""><i class="fa fa-angle-right"></i> Lenovo</a></li>
                                                            <li><a href=""><i class="fa fa-angle-right"></i> Apple</a></li>
                                                            <li><a href=""><i class="fa fa-angle-right"></i> Sony</a></li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="category">
                                                    <div class="title">
                                                        <a href="#">Price</a>
                                                    </div>
                                                    <div class="category-content">
                                                        <ul>
                                                            <li><a href=""><i class="fa fa-angle-right"></i> Under $100</a></li>
                                                            <li><a href=""><i class="fa fa-angle-right"></i> From $100 - $300</a></li>
                                                            <li><a href=""><i class="fa fa-angle-right"></i> From $300 - $1000</a></li>
                                                            <li><a href=""><i class="fa fa-angle-right"></i> Over $1000</a></li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="category">
                                                    <div class="title">
                                                        <a href="#">OS</a>
                                                    </div>
                                                    <div class="category-content">
                                                        <ul>
                                                            <li><a href=""><i class="fa fa-angle-right"></i> iOS</a></li>
                                                            <li><a href=""><i class="fa fa-angle-right"></i> Windows</a></li>
                                                            <li><a href=""><i class="fa fa-angle-right"></i> Android</a></li>
                                                            <li><a href=""><i class="fa fa-angle-right"></i> Others</a></li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="line"></div>
                                            </div>
                                        </li>
                                        <li>
                                            <a href="#">Accessories<i class="fa fa-angle-down"></i></a>
                                            <div class="sub_menu sub_menu_four">
                                                <div class="category">
                                                    <div class="category-content">
                                                        <ul>
                                                            <li><a href=""><i class="fa fa-angle-right"></i> Battery backup</a></li>
                                                            <li><a href=""><i class="fa fa-angle-right"></i> Cable connection</a></li>
                                                            <li><a href=""><i class="fa fa-angle-right"></i> Headphones</a></li>
                                                            <li><a href=""><i class="fa fa-angle-right"></i> Memory Stick </a></li>
                                                            <li><a href=""><i class="fa fa-angle-right"></i> Leather back cover</a></li>
                                                            <li><a href=""><i class="fa fa-angle-right"></i> Screen protector</a></li>
                                                            <li><a href=""><i class="fa fa-angle-right"></i> Sim card</a></li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="line"></div>
                                            </div>
                                        </li>
                                        <li>
                                            <a href="#">Policy<i class="fa fa-angle-down"></i></a>
                                            <div class="sub_menu sub_menu_five">
                                                <div class="category">
                                                    <div class="category-content">
                                                        <ul>
                                                            <li><a href=""><i class="fa fa-angle-right"></i> Return policy</a></li>
                                                            <li><a href=""><i class="fa fa-angle-right"></i> Warranty policy</a></li>
                                                            <li><a href=""><i class="fa fa-angle-right"></i> Installment policy</a></li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="line"></div>
                                            </div>
                                        </li>
                                        <li>
                                            <a href="#">Pay<i class="fa fa-angle-down"></i></a>
                                            <div class="sub_menu sub_menu_six">
                                                <div class="line"></div>
                                            </div>
                                        </li>
                                        <li>
                                            <a href="#">Promotion<i class="fa fa-angle-down"></i></a>
                                            <!-- <div class="sub_menu sub_menu_seven">
                                                <div class="line"></div>
                                            </div> -->
                                        </li>
                                        <li class="menu_drop_down">
                                            <a href="#">FAQ<i class="fa fa-angle-down"></i></a>
                                        </li>
                                    </ul>
                                </nav>
                            </div>
                        </div>
                    </div>
                </div>
            </header>
            <!-- End tag header -->
        </div>
        <!-- End div header -->
        <div id="header_mobile_menu"></div>
        <div class="columns-container"></div>
        <div class="static-home-bottom"></div>
        <div class="container checkout_page">
            <div class="clearfix breadcrumb">
                <span>Home page</span>
                <i class="fa fa-angle-double-right"></i>
                <span class="current-page">Pay</span>
            </div>
            <div class="customer-information">
                <div class="col-md-6">
                    <h3 class="block-title">Contact Information</h3>
                    <label for="">Name: </label> <span class="info">Kai Ma</span>
                    <br>
                    <label for="">Email: </label> <span class="info">makai123456789@gmail.com</span>
                    <br>
                    <label for="">Phone: </label> <span class="info">01xxxxxxxxx</span>
                </div>
                <div class="col-md-6">
                    <h3 class="block-title">Delivery Information</h3>
                    <label for="">Address: </label>
                    <input type="text" class="address">
                    <br>
                    <label for="">Date: </label>
                    <input type="date">
                    <br>
                    <label for="">Payment: </label>
                    <input type="radio" name="online" id="online">
                    <label for="online" class="type-of-pay">Online</label>
                    <input type="radio" name="online" id="offline">
                    <label for="offline" class="type-of-pay">On receipt of goods</label>
                </div>
            </div>
            <div class="checkout-form">
                <h3 class="block-title">Shopping cart</h3>
                <table class="table table-striped table-product">
                    <thead>
                        <tr>
                            <th>Product</th>
                            <th>Description</th>
                            <th>Status</th>
                            <th>Single Price</th>
                            <th>Amount</th>
                            <th>Total price</th>
                            <th>Edit</th>
                        </tr>
                    </thead>
                    <tbody>
                    </tbody>
                </table>
            </div>
        </div>
        <div id="footer">
            <div class="container">
                <ul class="support">
                    <h3>Customer support</h3>
                    <li><a href="article_page.html"><i class="fa fa-angle-double-right"></i> How to buy on installment</a></li>
                    <li><a href="article_page.html"><i class="fa fa-angle-double-right"></i> Return policy</a></li>
                    <li><a href="article_page.html"><i class="fa fa-angle-double-right"></i> Service Center</a></li>
                    <li><a href="article_page.html"><i class="fa fa-angle-double-right"></i> Delivery and payment</a></li>
                </ul>
                <ul class="support">
                    <h3>Customer support</h3>
                    <li><a href="article_page.html"><i class="fa fa-angle-double-right"></i> How to buy on installment</a></li>
                    <li><a href="article_page.html"><i class="fa fa-angle-double-right"></i> Return policy</a></li>
                    <li><a href="article_page.html"><i class="fa fa-angle-double-right"></i> Service Center</a></li>
                    <li><a href="article_page.html"><i class="fa fa-angle-double-right"></i> Delivery and payment</a></li>
                </ul>
                <ul class="support">
                    <h3>Customer support</h3>
                    <li><a href="article_page.html"><i class="fa fa-angle-double-right"></i> How to buy on installment</a></li>
                    <li><a href="article_page.html"><i class="fa fa-angle-double-right"></i> Return policy</a></li>
                    <li><a href="article_page.html"><i class="fa fa-angle-double-right"></i> Service Center</a></li>
                    <li><a href="article_page.html"><i class="fa fa-angle-double-right"></i> Delivery and payment</a></li>
                </ul>
            </div>
        </div>
    </div>
    <script src="js/jquery.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/scripts.js"></script>
    <script src="js/XMLWriter-1.0.0.js"></script>
    <script>
    $(document).ready(function() {
        displayShoppingCartItems();
    });

    function update(name, number) {
        $.each(shoppingCartItems, function(index, value) {
            if (value.name == name) {
                value.quantity = number;
            };
        });
        sessionStorage["shopping-cart-items"] = JSON.stringify(shoppingCartItems);
        $('.table-product > tbody').html('');
        displayShoppingCartItems();
    }

    function removeItem(name) {
        var item;
        $.each(shoppingCartItems, function(index, value) {
            if (value.name == name) {
                item = value;
            };
        });
        var index = shoppingCartItems.indexOf(item);
        shoppingCartItems.splice(index, 1);
        sessionStorage["shopping-cart-items"] = JSON.stringify(shoppingCartItems);
        $('.table-product > tbody').html('');
        displayShoppingCartItems();
    }

    function formatMoney(number) {
        number = number.toFixed(0).replace(/./g, function(c, i, a) {
            return i && c !== "." && ((a.length - i) % 3 === 0) ? ',' + c : c;
        });
        return number;
    }

    function displayShoppingCartItems() {
        if (sessionStorage["shopping-cart-items"].length != null) {
            shoppingCartItems = JSON.parse(sessionStorage["shopping-cart-items"].toString());
            console.log(shoppingCartItems);
            var totalMoney = 0;
            $.each(shoppingCartItems, function(index, value) {
                var htmlString = "";
                var price = parseInt((value.price).replace(/ /g, ''));
                var totalPrice = price * value.quantity;
                totalMoney += totalPrice;
                price = formatMoney(price);
                totalPrice = formatMoney(totalPrice);
                htmlString += '<tr>' + '<td class="product-image"><img src="' + value.image + '" alt=""></td>' + '<td> <a href="single_page.html" class="product-name">' + value.name + '</a>' + '<span>Mã SP: ' + value.id + '</span>' + '<span>Màu: ' + value.color + '</span>' + '</td>' + '<td><span class="status"><i class="fa fa-check-square-o"></i></span></td>' + '<td><span class="price">' + price + '</span></td>' + '<td class="number-products">' + '<span class="minus"><i class="fa fa-minus"></i></span>' + '<input type="text" class="number-product" value="' + value.quantity + '" id="numberOfProducts">' + '<span class="add"><i class="fa fa-plus"></i></span></td>' + '<td><span class="price">' + totalPrice + '</span></td>' + '<td><span class="button-remove">Xóa</span></td>' + '</tr>';

                $('.table-product > tbody:last').append(htmlString);

            });
            var htmlString = "";
            totalMoneyAfterShip = totalMoney + 120000;
            totalMoney = formatMoney(totalMoney);
            totalMoneyAfterShip = formatMoney(totalMoneyAfterShip);
            htmlString += '<tr>' + '<td colspan="3"></td>' + '<td colspan="2">' + '<label for="">Tổng giá thành</label>' + '</td>' + '<td><span>' + totalMoney + '</span></td>' + '<td></td>' + '</tr>' + '<tr>' + '<td colspan="3"></td>' + '<td colspan="2">' + '<label for="">Phí vận chuyển</label>' + '</td>' + '<td><span>120,000</span></td>' + '<td></td>' + '</tr>' + '<tr>' + '<td colspan="3"></td>' + '<td colspan="2">' + '<label for="">Tổng giá trị đơn hàng</label>' + '</td>' + '<td><span>' + totalMoneyAfterShip + '</span></td>' + '<td></td>' + '</tr>' + '<tr>' + '<td colspan="7">' + '<span class="button-checkout"><i class="fa fa-check-square-o"></i> Pay</span>' + '</td>' + '</tr>';
            $('.table-product > tbody:last').append(htmlString);
        }
        $('span.add').click(function() {
            var num = parseInt($(this).siblings('input').val());
            $(this).siblings('input').val(num + 1);
            var name = $(this).parent().siblings().find('.product-name').text();
            update(name, num + 1);
        });
        $('span.minus').click(function() {
            var num = parseInt($(this).siblings('input').val());
            if (num <= 1) num = 2;
            $(this).siblings('input').val(num - 1);
            var name = $(this).parent().siblings().find('.product-name').text();
            update(name, num - 1);
        });
        $('.button-remove').click(function() {
            var name = $(this).parent().siblings().find('.product-name').text();
            removeItem(name);
        });
        $('.button-checkout').click(function(){
            saveData();
        })
    }

    function saveData() {
        var xml = new XMLWriter('UTF-8', '1.0');
        xml.writeStartDocument(true);
        xml.writeStartElement('Cart');
            xml.writeStartElement('Customer')
                xml.writeElementString('Name','Mr. Tung');
                xml.writeElementString('Email','tungnguyentien.cs@gmail.com');
                xml.writeElementString('Phone','01674643756');
            xml.writeEndElement('Customer');
            $.each(shoppingCartItems,function(index,value){
                xml.writeStartElement('Product');
                    xml.writeElementString('Id',value.id.toString());
                    xml.writeElementString('Name',value.name);
                    xml.writeElementString('Color',value.color);
                    xml.writeElementString('Number',value.quantity.toString());
                    xml.writeElementString('Price',value.price);
                  xml.writeEndElement('Product');
            });
        xml.writeEndElement('Cart')    
        xml.writeEndDocument();
        console.log(xml.flush());
    }
    </script>
</body>

</html>
